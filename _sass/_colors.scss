@use "sass:map";
/*
$base03:    #002b36;
$base02:    #073642;
$base01:    #586e75;
$base00:    #657b83;
$base0:     #839496;
$base1:     #93a1a1;
$base2:     #eee8d5;
$base3:     #fdf6e3;
$yellow:    #b58900;
$orange:    #cb4b16;
$red:       #dc322f;
$magenta:   #d33682;
$violet:    #6c71c4;
$blue:      #268bd2;
$cyan:      #2aa198;
$green:     #859900;
@mixin rebase($rebase03,$rebase02,$rebase01,$rebase00,$rebase0,$rebase1,$rebase2,$rebase3)
{
  background-color:$rebase03;
  color:$rebase0;
  * { color:$rebase0; }
  h1,h2,h3,h4,h5,h6 { color:$rebase1; border-color: $rebase0; }
  a, a:active, a:visited { color: $rebase1; }
}
@mixin accentize($accent) {
  a, a:active, a:visited, code.url { color: $accent; }
  h1,h2,h3,h4,h5,h6 {color:$accent}
}
.light { @include rebase($base3,$base2,$base1,$base0,$base00,$base01,$base02,$base03)}
.dark  { @include rebase($base03,$base02,$base01,$base00,$base0,$base1,$base2,$base3)}
}
*/

$base00: #030920; // #002b36
$base01: #0f172a; // #073642
$base02: #334155; // #586e75
$base03: #475569; // #657b83
$base04: #64748b; // #839496
$base05: #94a3b8; // #93a1a1
$base06: #cbd5e1; // #eee8d5
$base07: #e2e8f0; // #fdf6e3

$red: #dc322f;
$orange: #cb4b16;
$yellow: #b58900;
$green: #859900;
$cyan: #2aa198;
$blue: #268bd2;
$violet: #6c71c4;
$magenta: #d33682;

$dark-red: #cc6666;
$dark-orange: #de935f;
$dark-yellow: #f0c674;
$dark-green: #b5bd68;
$dark-cyan: #8abeb7;
$dark-blue: #81a2be;
$dark-violet: #b294bb;
$dark-magenta: #eb5ea2;

// Schemes data
$themes: (
  "light": (
    "lk-1": $violet,
    "lk-2": $blue,
    "bg-1": var(--base07),
    "bg-2": var(--base06),
    "bg-3": var(--base05),
    "tx-1": var(--base02),
    "tx-2": var(--base03),
    "tx-3": var(--base04),
    "bd-1": var(--base03),
    "bd-2": var(--base04),
    "bd-3": var(--base05),
  ),
  "dark": (
    "bg-1": var(--base00),
    "bg-2": var(--base01),
    "bg-3": var(--base02),
    "tx-1": var(--base05),
    "tx-2": var(--base04),
    "tx-3": var(--base03),
    "bd-1": var(--base03),
    "bd-2": var(--base04),
    "bd-3": var(--base05),
  ),
);

$alerts: (
  "class": (
    "note",
    "tip",
    "important",
    "warning",
    "caution",
  ),
  "color": (
    "note": $blue,
    "tip": $green,
    "important": $violet,
    "warning": $yellow,
    "caution": $red,
  ),
);

@mixin alert($mode) {
  $alert: map.get($alerts, "color");
  @each $name, $color in $alert {
    --alert-tx-#{$name}: #{$color};
    --alert-bg-#{$name}: #{rgba($color, 0.5)};
    --alert-bd-#{$name}: #{rgba($color, 0.65)};
  }
}

@mixin theme($mode) {
  color-scheme: $mode;

  $theme: map.get($themes, $mode);
  @each $key, $value in $theme {
    --#{$key}: #{$value};
  }

  @if $mode == light {
    --base00: #{$base00};
    --base01: #{$base01};
    --base02: #{$base02};
    --base03: #{$base03};
    --base04: #{$base04};
    --base05: #{$base05};
    --base06: #{$base06};
    --base07: #{$base07};
    --red: #{$red};
    --orange: #{$orange};
    --yellow: #{$yellow};
    --green: #{$green};
    --cyan: #{$cyan};
    --blue: #{$blue};
    --violet: #{$violet};
    --magenta: #{$magenta};
  }
  @include alert($mode);
}
