@use "sass:map";
$base00: #020617;
$base01: #0f172a;
$base02: #334155;
$base03: #475569;
$base04: #64748b;
$base05: #94a3b8;
$base06: #cbd5e1;
$base07: #e2e8f0;
$base08: #f1f5f9;
$base09: #f8fafc;

$red: #dc322f;
$orange: #cb4b16;
$yellow: #b58900;
$green: #859900;
$cyan: #2aa198;
$blue: #268bd2;
$violet: #6c71c4;
$magenta: #d33682;

$dark-red: #cc6666;
$dark-orange: #de935f;
$dark-yellow: #f0c674;
$dark-green: #b5bd68;
$dark-cyan: #8abeb7;
$dark-blue: #81a2be;
$dark-violet: #b294bb;
$dark-magenta: #eb5ea2;

// Schemes data
$themes: (
  "light": (
    "bg-1": $base07,
    "bg-2": $base06,
    "bg-3": $base05,
    "tx-1": $base02,
    "tx-2": $base03,
    "tx-3": $base04,
    "bd-1": $base03,
    "bd-2": $base04,
    "bd-3": $base05,
    "lk-1": $violet,
    "lk-2": $blue,
  ),
  "dark": (
    "bg-1": $base00,
    "bg-2": $base01,
    "bg-3": $base02,
    "tx-1": $base05,
    "tx-2": $base04,
    "tx-3": $base03,
    "bd-1": $base03,
    "bd-2": $base04,
    "bd-3": $base05,
    "lk-1": $blue,
    "lk-2": $violet,
  ),
);

// Alerts data
$alerts: (
  "class": (
    "note",
    "tip",
    "important",
    "warning",
    "caution",
  ),
  "light": (
    "note": $blue,
    "tip": $green,
    "important": $violet,
    "warning": $yellow,
    "caution": $red,
  ),
);

$tag-colors: (
  t: $base07,
  1: $magenta,
  2: $violet,
  3: $blue,
  4: $cyan,
  5: $green,
  6: $yellow,
  7: $orange,
  8: $red,
);

@mixin alert($mode) {
  $alert: map.get($alerts, $mode);

  @if not $alert {
    $alert: map.get($alerts, "light");
  }

  @each $name, $color in $alert {
    --alert-tx-#{$name}: #{$color};
    --alert-bg-#{$name}: #{rgba($color, 0.3)};
    --alert-bd-#{$name}: #{rgba($color, 0.65)};
  }
}

@mixin theme($mode, $init: false) {
  color-scheme: $mode;

  $theme: map.get($themes, $mode);

  @each $key, $value in $theme {
    --#{$key}: #{$value};
  }

  --tooltip-bg: var(--bg-3);
  --tooltip-tx: var(--tx-1);

  @if $init {
    --red: #{$red};
    --orange: #{$orange};
    --yellow: #{$yellow};
    --green: #{$green};
    --cyan: #{$cyan};
    --blue: #{$blue};
    --violet: #{$violet};
    --magenta: #{$magenta};
    --red-light: #{$dark-red};
    --orange-light: #{$dark-orange};
    --yellow-light: #{$dark-yellow};
    --green-light: #{$dark-green};
    --cyan-light: #{$dark-cyan};
    --blue-light: #{$dark-blue};
    --violet-light: #{$dark-violet};
    --magenta-light: #{$dark-magenta};
  }

  @if $mode == "dark" {
    --red: #{$dark-red};
    --orange: #{$dark-orange};
    --yellow: #{$dark-yellow};
    --green: #{$dark-green};
    --cyan: #{$dark-cyan};
    --blue: #{$dark-blue};
    --violet: #{$dark-violet};
    --magenta: #{$dark-magenta};
  }
}
