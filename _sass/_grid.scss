/* Preserve some sanity */
.grid,
.unit {
  box-sizing: border-box;
}

/* Set up some rules to govern the grid */
/* prettier-ignore */
.grid {
  display: flex;
  flex-direction: row;

  .whole { flex-basis: 100%; }
  .half { flex-basis: 50%; }

  .one-third { flex-basis: 33.3333%; }
  .two-thirds { flex-basis: 66.6666%; }

  .four-fifths { flex-basis: 80%; }
  .one-fifth { flex-basis: 20%; }

  .three-fifths { flex-basis: 60%; }
  .two-fifths { flex-basis: 40%; }

  .one-quarter,
  .one-fourth { flex-basis: 25%; }
  .three-quarters,
  .three-fourths { flex-basis: 75%; }

  .unit {
    width: 100%;
    padding: 10px;

    &:first-child { padding-left: 20px; }
    &:last-child { padding-right: 20px; }
  }
}

.unit {
  & &:first-child { padding-left: 0; }
  & &:last-child { padding-right: 0; }

  & .grid:first-child > & { padding-top: 0; }
  & .grid:last-child > & { padding-bottom: 0; }

  .no-gutters &,
  &.no-gutters {
    padding: 0 !important;
  }
}

/* Responsive Stuff */
@media screen and (max-width: 768px) {
  .grid {
    flex-direction: column;
    flex-basis: 100%;
  }
  .grid:not(.no-stacking-on-mobiles) > .unit {
    width: 100%;
    padding-left: 20px;
    padding-right: 20px;
  }
  .unit .grid .unit {
    padding-left: 0px;
    padding-right: 0px;
  }
}

/* Wrapping at a maximum width is optional */
.wrap .grid,
.grid.wrap {
  max-width: 1080px;
  margin: 0 auto;
}
@each $key, $value in ("xs": 576px, "sm": 768px, "lg": 992px, "xl": 1200px) {
  @media screen and (min-width: #{$value}) {
    .wrap.#{$key} .grid,
    .grid.wrap.#{$key} {
      max-width: #{$value} !important;
      margin: 0 auto;
    }
  }
}
