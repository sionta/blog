{% if site.self_host == jekyll.environment %}
  {% assign VENDOR_ORIGIN = '/assets/lib' | relative_url %}
{% else %}
  {% assign VENDOR_ORIGIN = 'https://cdn.jsdelivr.net/npm' %}
  {% comment %} '@major.minor.revision' or '@latest' {% endcomment %}
  {% assign __JS_ANCHOR__ = '@5.0.0' %}
  {% assign __JS_TOCBOT__ = '@4.28.2/dist' %}
  {% assign __JS_MERMAID__ = '@10.9.1/dist' %}
  {% assign __JS_KATEX__ = '@0.16.11/dist' %}
  {% assign __JS_MATHJAX__ = '@3.2.2/es5' %}
  {% assign __JS_SEARCH__ = '@1.10.0/dest' %}
{% endif %}

{% if page.collection == 'posts' or page.layout == 'post' %}
  {% if page.toc == true or page.table_of_content == true %}
    <script type="text/javascript" src="{{ VENDOR_ORIGIN }}/tocbot{{ __JS_TOCBOT__ }}/tocbot.min.js"></script>
  {% endif %}

  {% if page.anchor == true or page.anchor_heading == true %}
    <script type="text/javascript" src="{{ VENDOR_ORIGIN }}/anchor-js{{ __JS_ANCHOR__ }}/anchor.min.js"></script>
  {% endif %}

  {% if page.mermaid == true or page.diagram == true %}
    <script type="text/javascript" src="{{ VENDOR_ORIGIN }}/mermaid{{ __JS_MERMAID__ }}/mermaid.min.js"></script>
  {% endif %}

  {% case page.math %}
    {% when 'katex', true %}
      <link
        type="text/css"
        rel="stylesheet"
        href="{{ VENDOR_ORIGIN }}/katex{{ __JS_KATEX__ }}/katex.min.css"
        crossorigin="anonymous"
      >
      <script
        type="text/javascript"
        defer
        src="{{ VENDOR_ORIGIN }}/katex{{ __JS_KATEX__ }}/katex.min.js"
        crossorigin="anonymous"
      ></script>
      <script
        type="text/javascript"
        defer
        src="{{ VENDOR_ORIGIN }}/katex{{ __JS_KATEX__ }}/contrib/auto-render.min.js"
        crossorigin="anonymous"
      ></script>
    {% when 'mathjax' %}
      <script
        type="text/javascript"
        async
        id="Mathjax-script"
        src="{{ VENDOR_ORIGIN }}/mathjax{{ __JS_MATHJAX__ }}/tex-mml-chtml.js"
      ></script>
  {% endcase %}
{% endif %}

{% comment %} <script src="{{ VENDOR_ORIGIN }}/simple-jekyll-search{{ __JS_JEKYLL_SEARCH__ }}/simple-jekyll-search.min.js"></script> {% endcomment %}
<script type="module" src="{{ '/assets/js/main.js' | relative_url }}"></script>
