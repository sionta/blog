<script src="{{- '/assets/js/main.js' | relative_url -}}"></script>
{% assign vendor_js = '/assets/js/vendor' | relative_url %}

{% if page.collection == 'posts' or page.layout == 'post' %}
  {% include comments.html %}

  {% if page.mermaid == true or page.diagram == true %}
    <script type="text/javascript" src="{{- vendor_js -}}/mermaid.min.js"></script>
    <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', () => {
        mermaid.initialize({
          startOnLoad: true,
          theme: 'default',
          securityLevel: 'loose',
        });
        let mermaidClass = document.getElementsByClassName('language-mermaid');
        Array.from(mermaidClass).forEach((element) => {
          element.classList.add('mermaid');
          mermaid.init(undefined, element);
        });
      });
    </script>
  {% endif %}
{% endif %}

{% comment %}
  <script>
    // Pilih semua elemen div dan figure dengan kelas 'highlight'
    const codeLanguages = document.querySelectorAll('[class^="language-"]');
    const highlightElements = document.querySelectorAll('div.highlight, figure.highlight');

    function getLabelText(element) {

    }
    // HTML yang akan ditambahkan
    const newHtml = `
      <div class="code-header">
          <span data-lang="{{ _label_text | strip }}">
              <i class="ti ti-code"></i>
          </span>
          <button aria-label="copy" data-title-succeed="Copied!">
              <i class="ti ti-clipboard"></i>
          </button>
      </div>
    `;

    // Tambahkan HTML baru ke setiap elemen yang dipilih
    highlightElements.forEach((highlightElement) => {
      highlightElement.insertAdjacentHTML('afterbegin', newHtml);
    });
  </script>
{% endcomment %}
