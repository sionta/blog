{% if page.url contains '/blog/' %}
  <script src="https://unpkg.com/simple-jekyll-search@latest/dest/simple-jekyll-search.min.js"></script>
{% endif %}

{%- if page.collection == 'posts' or page.layout == 'post' -%}
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/anchor-js@5.0.0/anchor.min.js"></script>

  {%- if page.toc == true -%}
    {% comment %} <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.28.2/dist/tocbot.min.css"> {% endcomment %}
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/tocbot@4.28.2/dist/tocbot.min.js"></script>
  {%- endif -%}

  {%- if page.content contains '<code class="language-mermaid">' -%}
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.min.js"></script>
  {%- endif -%}

  {%- assign mathEngine = page.math | downcase -%}
  <!-- prettier-ignore -->
  {%- if mathEngine == 'katex' or mathEngine == true -%}
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" crossorigin="anonymous">
     <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" crossorigin="anonymous" defer></script>
     <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" crossorigin="anonymous" defer onload="renderMathInElement(document.body);"></script>
  {%- elsif mathEngine == 'mathjax' -%}
     <script type="text/javascript" id="Mathjax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" async></script>
  {%- endif -%}
{%- endif -%}
