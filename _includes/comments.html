{% if site.comments.provider and page.comments != false %}
  {% if site.comments.provider == 'disqus' %}
    {% if jekyll.environment == 'production' %}
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = '{{- page.url | absolute_url -}}';
          this.page.identifier = '{{- page.url | absolute_url -}}';
        };
        (function () {
          var d = document,
            s = d.createElement('script');
          s.src = 'https://{{- site.comments.disqus.shortname -}}.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
      <noscript
        >Please enable JavaScript to view the
        <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript
      >
    {% endif %}
  {% elsif site.comments.provider == 'giscus' %}
    <script
      src="https://giscus.app/client.js"
      data-repo="{{- site.comments.giscus.repo -}}"
      data-repo-id="{{- site.comments.giscus.repo_id -}}"
      data-category="{{- site.comments.giscus.category -}}"
      data-category-id="{{- site.comments.giscus.category_id -}}"
      data-mapping="{{- site.comments.giscus.mapping | default: 'pathname' -}}"
      data-strict="{{- site.comments.giscus.strict | default: '0' -}}"
      data-reactions-enabled="{{- site.comments.giscus.reactions_enabled | default: '1' -}}"
      data-emit-metadata="{{- site.comments.giscus.metadata | default: '0' -}}"
      data-theme="{{- site.comments.giscus.theme | default: 'preferred_color_scheme' -}}"
      data-lang="{{- site.comments.giscus.lang | default: site.lang | default: 'en' -}}"
      data-loading="lazy"
      crossorigin="anonymous"
      async
    ></script>
  {% elsif site.comments.provider == 'utterances' %}
    <script
      src="https://utteranc.es/client.js"
      repo="{{- site.comments.utterances.repo -}}"
      issue-term="{{- site.comments.utterances.issue_term | default: 'pathname' -}}"
      theme="{{- site.comments.utterances.theme | default: 'preferred-color-scheme' -}}"
      crossorigin="anonymous"
      async
    ></script>
  {% endif %}
{% endif %}

<!-- data-theme="https://giscus.app/themes/custom_example.css" -->
