{%- if jekyll.environment == 'production' %}
  {%- if site.analytics.google.id != empty %}
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.analytics.google.id }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', '{{ site.analytics.google.id }}');
    </script>
  {%- endif %}

  <!-- GoatCounter -->
  {%- if site.analytics.goatcounter.id != empty %}
    <script
      data-goatcounter="https://{{ site.analytics.goatcounter.id }}.goatcounter.com/count"
      async
      src="//gc.zgo.at/count.js"
    ></script>
  {%- endif %}

  <!-- Umami -->
  {%- if site.analytics.umami.id != empty and site.analytics.umami.domain != empty %}
    <script
      async
      defer
      data-website-id="{{ site.analytics.umami.id }}"
      src="{{ site.analytics.umami.domain }}/umami.js"
    ></script>
  {%- endif %}

  <!-- Cloudflare Web Analytics -->
  {%- if site.analytics.cloudflare.id != empty %}
    <script
      defer
      src="https://static.cloudflareinsights.com/beacon.min.js"
      data-cf-beacon='{"token": "{{ site.analytics.cloudflare.id }}"}'
    ></script>
  {%- endif %}

  <!-- Matomo -->
  {%- if site.analytics.matomo.id and site.analytics.matomo.domain != empty %}
    <script>
      var _paq = (window._paq = window._paq || []);
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function () {
        var u = '//{{ site.analytics.matomo.domain }}/';
        _paq.push(['setTrackerUrl', u + 'matomo.php']);
        _paq.push(['setSiteId', '{{ site.analytics.matomo.id }}']);
        var d = document,
          g = d.createElement('script'),
          s = d.getElementsByTagName('script')[0];
        g.async = true;
        g.src = u + 'matomo.js';
        s.parentNode.insertBefore(g, s);
      })();
    </script>
  {%- endif %}
{%- endif %}
