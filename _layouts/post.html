---
layout: base
---
{%- assign date_format = site.date_format | default: '%b %d, %Y' %}
<article class="article" itemscope itemtype="http://schema.org/BlogPosting" itemid="{{ page.url | relative_url }}">
  <header>
    <h1 class="post-title" itemprop="headline">{{ page.title }}</h1>
    <div class="post-meta">
      <p>{{ page.description }}</p>
      <time itemprop="datePublished" datetime="{{ page.date | date_to_xmlschema }}">
        {{- page.date | date: date_format -}}
      </time>
      (last modified
      <time itemprop="dateModified" datetime="{{ page.last_modified_at | date_to_xmlschema }}">
        {{- page.last_modified_at | date: date_format -}}</time
      >) by
      <span itemprop="author" itemscope itemtype="https://schema.org/Person">
        <a itemprop="url" href="{{ site.author.url | default: site.url }}">
          <span itemprop="name">{{ site.author.name | default: page.author }}</span>
        </a>
      </span>
      {%- if page.image.url or page.image %}
        {%- include figure.html %}
      {%- endif %}
    </div>
  </header>
  <section itemprop="articleBody">
    {%- capture toc_mobile %}
    {{ page.excerpt }}
    {%- include toc.html mobile=true %}
    {%- endcapture %}
    {%- if page.excerpt %}
      {{ content | replace: page.excerpt, toc_mobile }}
    {%- else %}
      {{ toc_mobile }}
      {{ content }}
    {%- endif %}
  </section>
  <footer>
    <p>
      Tags: <span itemprop="keywords">{{ page.tags | join: ', ' }}</span>
    </p>
    {%- include comments.html %}
  </footer>
</article>
<aside class="sidebar">
  {%- include toc.html mobile=false %}
</aside>
