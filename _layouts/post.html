---
layout: base
---
{%- assign date_format = site.date_format | default: '%b %d, %Y' %}
<article class="article" itemscope itemtype="http://schema.org/BlogPosting" itemid="{{ page.url | relative_url }}">
  <header>
    {% include breadcrumb.html %}
    <div class="post-tag" itemprop="keywords">
      {%- for tag in page.tags %}
        <a class="post-tag__link" href="{{ '/tags/' | append: tag | relative_url }}">{{ tag }}</a>
        {%- unless forloop.last %}, {% endunless %}
      {%- endfor %}
    </div>
    <h1 class="post-title" itemprop="headline">{{ page.title }}</h1>
    <div class="post-meta">
      <p>
        Published
        <time itemprop="datePublished" datetime="{{ page.date | date_to_xmlschema }}">
          {{- page.date | date: date_format -}}
        </time>
        , by
        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
          <a itemprop="url" href="{{ site.author.url | default: site.url }}">
            <span itemprop="name">{{ site.author.name | default: page.author }}</span>
          </a>
        </span>
      </p>
      {%- if page.image.url or page.image %}
        {%- include figure.html %}
      {%- endif %}
    </div>
  </header>
  <section itemprop="articleBody">
    {%- capture toc_mobile %}
    {{ page.excerpt }}
    {%- include toc.html mobile=true %}
    {%- endcapture %}
    {%- if page.excerpt %}
      {{ content | replace: page.excerpt, toc_mobile }}
    {%- else %}
      {{ toc_mobile }}
      {{ content }}
    {%- endif %}
  </section>
  <footer>
    <p>
      Modified
      <time itemprop="dateModified" datetime="{{ page.last_modified_at | date_to_xmlschema }}">
        {{- page.last_modified_at | date: date_format -}}
      </time>
    </p>
    <div>
      {% if page.previous %}
        <a class="page-previous" href="{{ page.previous | relative_url }}">{{ page.previous.title }}</a>
      {% endif %}
      {% if page.next %}
        <a class="page-next" href="{{ page.next | relative_url }}">{{ page.next.title }}</a>
      {% endif %}
    </div>
    {%- include comments.html %}
  </footer>
</article>
<aside class="sidebar">
  {%- include toc.html mobile=false %}
</aside>
